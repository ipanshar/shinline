var A=Object.defineProperty;var D=(e,t,a)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var T=(e,t,a)=>D(e,typeof t!="symbol"?t+"":t,a);import{r as p,j as s,R as G,a as P,L as O}from"./app-CSPwwHJA.js";import{A as L}from"./app-layout-DSgga0kv.js";import{b,B as u}from"./button-DeJHDVOK.js";import{g as x,a as f,u as g,s as v,c as y,P as V,T as E,m as U,b as R,d as k,e as M,f as d,h as m}from"./TableCell-DsJvRcAr.js";import"./index-ByQaD0uO.js";import"./index-CbGAClUX.js";import"./shin-line-logo-DeoKgELm.js";function I(e){return x("MuiCard",e)}f("MuiCard",["root"]);const F=e=>{const{classes:t}=e;return y({root:["root"]},I,t)},K=v(V,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),W=p.forwardRef(function(t,a){const r=g({props:t,name:"MuiCard"}),{className:n,raised:o=!1,...l}=r,i={...r,raised:o},c=F(i);return s.jsx(K,{className:b(c.root,n),elevation:o?8:void 0,ref:a,ownerState:i,...l})});function Z(e){return x("MuiCardContent",e)}f("MuiCardContent",["root"]);const q=e=>{const{classes:t}=e;return y({root:["root"]},Z,t)},J=v("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),Q=p.forwardRef(function(t,a){const r=g({props:t,name:"MuiCardContent"}),{className:n,component:o="div",...l}=r,i={...r,component:o},c=q(i);return s.jsx(J,{as:o,className:b(c.root,n),ownerState:i,ref:a,...l})});function X(e){return x("MuiTable",e)}f("MuiTable",["root","stickyHeader"]);const Y=e=>{const{classes:t,stickyHeader:a}=e;return y({root:["root",a&&"stickyHeader"]},X,t)},ee=v("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.stickyHeader&&t.stickyHeader]}})(U(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),N="table",te=p.forwardRef(function(t,a){const r=g({props:t,name:"MuiTable"}),{className:n,component:o=N,padding:l="normal",size:i="medium",stickyHeader:c=!1,...h}=r,C={...r,component:o,padding:l,size:i,stickyHeader:c},w=Y(C),z=p.useMemo(()=>({padding:l,size:i,stickyHeader:c}),[l,i,c]);return s.jsx(E.Provider,{value:z,children:s.jsx(ee,{as:o,role:o===N?null:"table",ref:a,className:b(w.root,n),ownerState:C,...h})})});function se(e){return x("MuiTableBody",e)}f("MuiTableBody",["root"]);const oe=e=>{const{classes:t}=e;return y({root:["root"]},se,t)},ae=v("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),re={variant:"body"},S="tbody",ne=p.forwardRef(function(t,a){const r=g({props:t,name:"MuiTableBody"}),{className:n,component:o=S,...l}=r,i={...r,component:o},c=oe(i);return s.jsx(R.Provider,{value:re,children:s.jsx(ae,{className:b(c.root,n),as:o,ref:a,role:o===S?null:"rowgroup",ownerState:i,...l})})});function le(e){return x("MuiTableHead",e)}f("MuiTableHead",["root"]);const ie=e=>{const{classes:t}=e;return y({root:["root"]},le,t)},ce=v("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),de={variant:"head"},$="thead",pe=p.forwardRef(function(t,a){const r=g({props:t,name:"MuiTableHead"}),{className:n,component:o=$,...l}=r,i={...r,component:o},c=ie(i);return s.jsx(R.Provider,{value:de,children:s.jsx(ce,{as:o,className:b(c.root,n),ref:a,role:o===$?null:"rowgroup",ownerState:i,...l})})});function ue(e){return x("MuiTableRow",e)}const B=f("MuiTableRow",["root","selected","hover","head","footer"]),me=e=>{const{classes:t,selected:a,hover:r,head:n,footer:o}=e;return y({root:["root",a&&"selected",r&&"hover",n&&"head",o&&"footer"]},ue,t)},he=v("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.head&&t.head,a.footer&&t.footer]}})(U(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${B.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${B.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:k(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:k(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),H="tr",_=p.forwardRef(function(t,a){const r=g({props:t,name:"MuiTableRow"}),{className:n,component:o=H,hover:l=!1,selected:i=!1,...c}=r,h=p.useContext(R),C={...r,component:o,hover:l,selected:i,head:h&&h.variant==="head",footer:h&&h.variant==="footer"},w=me(C);return s.jsx(he,{as:o,ref:a,className:b(w.root,n),role:o===H?null:"row",ownerState:C,...c})}),be=M(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"})),xe=M(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),fe=M(s.jsx("path",{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m13.5-9 1.96 2.5H17V9.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"})),j=e=>{if(!e)return"‚Äî";const t=new Date(e);return new Intl.DateTimeFormat("kk-KZ",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)},ge=({task:e})=>s.jsx(W,{sx:{maxWidth:600,margin:"10px",boxShadow:3,borderRadius:2},children:s.jsxs(Q,{children:[s.jsxs(d,{variant:"h6",gutterBottom:!0,color:"primary",children:["üìå ",e.id," | üöö –†–µ–π—Å: ",e.name," | ",e.status_name]}),s.jsxs(d,{variant:"subtitle2",color:"textSecondary",children:["üìÖ –ü–ª–∞–Ω: ",j(e.plan_date)," | ‚è≥ –ü—Ä–∏–±—ã—Ç–∏–µ: ",j(e.begin_date)," | üöÄ –£–±—ã—Ç–∏–µ: ",j(e.end_date)]}),s.jsx(d,{variant:"body2",sx:{mt:1},children:e.description}),s.jsxs(d,{variant:"body2",sx:{mt:1},children:["üè† ",e.yard_name]}),s.jsxs(d,{variant:"body2",color:"secondary",children:["üìû –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä: ",e.avtor," ",e.phone&&` | –¢–µ–ª: ${e.phone}`]}),s.jsxs(d,{variant:"body2",children:[s.jsx(fe,{color:"action"})," –ö–æ–º–ø–∞–Ω–∏—è: ",e.company||"–ù–µ —É–∫–∞–∑–∞–Ω–æ"," | –ù–æ–º–µ—Ä –¢–°: ",s.jsx("b",{children:e.truck_plate_number}),e.trailer_plate_number&&` | –ù–æ–º–µ—Ä –ø—Ä–∏—Ü–µ–ø–∞: ${e.trailer_plate_number}`,e.truck_model&&` | –ú–æ–¥–µ–ª—å: ${e.truck_model}`,e.truck_category_name&&` | –ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${e.truck_category_name}`,e.trailer_type_name&&` | –¢–∏–ø –ø—Ä–∏—Ü–µ–ø–∞: ${e.trailer_type_name}`,e.color&&` | –¶–≤–µ—Ç: ${e.color}`]}),s.jsxs(d,{variant:"body2",children:[s.jsx(be,{color:"primary"})," –í–æ–¥–∏—Ç–µ–ª—å: ",e.user_name," | Login: ",e.user_login," | –¢–µ–ª: ",e.user_phone]}),s.jsxs(te,{size:"small",sx:{mt:2},children:[s.jsx(pe,{children:s.jsx(_,{children:s.jsx(m,{align:"center",colSpan:3,children:s.jsx(d,{variant:"subtitle2",children:s.jsx("b",{children:"–ó–∞–¥–∞—á–∏"})})})})}),s.jsxs(ne,{children:[e.task_weighings.map((t,a)=>s.jsxs(_,{sx:{backgroundColor:"#e0f2f1"},children:[s.jsxs(m,{children:[s.jsx(xe,{color:"success"})," ",t.statuse_weighing_name]}),s.jsxs(m,{children:["–í–µ—Å: ",s.jsx("b",{children:t.weight})]}),s.jsx(m,{children:t.weight?j(t.updated_at):"‚Äî"})]},a)),e.task_loadings.map((t,a)=>s.jsxs(_,{sx:{backgroundColor:"#fff3e0"},children:[s.jsx(m,{children:t.warehouse_name}),s.jsxs(m,{children:["–ü–ª–∞–Ω: ",s.jsx("b",{children:t.warehouse_gate_plan_name})]}),s.jsxs(m,{children:["–§–∞–∫—Ç: ",s.jsx("b",{children:t.warehouse_gate_fact_name})]})]},a))]})]})]})});class ve extends G.Component{constructor(a){super(a);T(this,"Gettasks",a=>{P.post("/task/gettasks",{page:a}).then(r=>{this.state.view_app.length=0,this.state.paginate.length=0;const n=[];if(r.data.current_page>0){const o=Number(r.data.current_page),l=Number(r.data.last_page);this.state.paginate.length===0&&(n.push(s.jsx(u,{className:"paginateButton ms-1",size:"sm",onClick:()=>this.Gettasks(1),children:"¬´"},o*20)),o-2>0&&n.push(s.jsx(u,{className:"paginateButton ms-1",size:"sm",onClick:()=>this.Gettasks(o-2),children:o-2},o-2)),o-1>0&&n.push(s.jsx(u,{className:"paginateButton ms-1",size:"sm",onClick:()=>this.Gettasks(o-1),children:o-1},o-1)),n.push(s.jsx(u,{disabled:!0,size:"sm",className:"paginateButton ms-1",children:o},o)),o+1<=l&&n.push(s.jsx(u,{className:"paginateButton ms-1",size:"sm",onClick:()=>this.Gettasks(o+1),children:o+1},o+1)),o+2<=l&&n.push(s.jsx(u,{className:"paginateButton ms-1",size:"sm",onClick:()=>this.Gettasks(o+2),children:o+2},o+2)),n.push(s.jsx(u,{className:"paginateButton ms-1",size:"sm",onClick:()=>this.Gettasks(l),children:"¬ª"},o*10)))}this.setState({paginate:n}),this.setState({tasks:r.data.data,main_cont:!1},()=>{this.view_app()})}).catch(r=>{console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω–∏—è:",r)})});T(this,"view_app",()=>{if(this.state.tasks.length>0){const a=this.state.tasks.map((r,n)=>s.jsx(ge,{task:r}));this.setState({view_app:a})}});this.state={tasks:[],paginate:[],view_app:[],main_cont:!0,selectedTask:null,showModal:!1,isEditMode:!1,newTaskName:"",newTaskDescription:"",newTaskStatus:"",newTaskPriority:"",newTaskAssignee:"",newTaskDueDate:""}}componentDidMount(){this.Gettasks(1)}render(){return s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[s.jsx("div",{className:"grid auto-rows-min gap-4 md:grid-cols-3",children:this.state.view_app.map((a,r)=>a)}),s.jsxs("div",{className:"sticky bottom-0 w-full flex justify-center p-4 rounded-xl shadow-md",children:[" ",this.state.paginate.map((a,r)=>a)]},"pagination")]})}}const ye=[{title:"–ó–∞–¥–∞–Ω–∏—è",href:"/tasks"}];function Ne(){return s.jsxs(L,{breadcrumbs:ye,children:[s.jsx(O,{title:"–ó–∞–¥–∞–Ω–∏—è"}),s.jsx(ve,{})]})}export{Ne as default};
