import{j as e,r as d,a as f,L as b}from"./app-DUyv2vMF.js";import{P as x}from"./index-BmN9TI0W.js";import{B as n}from"./button-g_VPEBkA.js";import{A as j}from"./app-layout-D3aOKE7C.js";import"./index-BUl_ciKf.js";import"./index-BGR1gm8V.js";import"./shin-line-logo-DeoKgELm.js";import"./useTranslation-s2IH1_qR.js";const l=({label:a,value:i})=>e.jsxs("div",{style:{marginBottom:8},children:[e.jsxs("strong",{children:[a,":"]})," ",i||"—"]});l.propTypes={label:x.string.isRequired,value:x.any};const c=({truck:a})=>e.jsxs("div",{style:{border:"1px solid #e0e0e0",borderRadius:"10px",padding:"20px",margin:"16px 0",background:"#fafbfc",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",maxWidth:400},children:[e.jsx("h2",{style:{margin:"0 0 12px 0",color:"#2d3a4b"},children:a.truck_model_name||"Без модели"}),e.jsx(l,{label:"Гос. номер",value:a.plate_number}),e.jsx(l,{label:"Марка",value:a.truck_brand_name}),e.jsx(l,{label:"Категория",value:a.truck_categories_name}),e.jsx(l,{label:"Цвет",value:a.color}),e.jsx(l,{label:"VIN",value:a.vin}),e.jsx(l,{label:"Прицеп",value:a.trailer_model_name}),e.jsx(l,{label:"Тип прицепа",value:a.trailer_type_name}),e.jsxs("div",{style:{fontSize:12,color:"#888"},children:["Добавлен: ",new Date(a.created_at).toLocaleDateString()]})]});c.propTypes={truck:x.object.isRequired};const g=({currentPage:a,lastPage:i,setPage:o})=>{const r=[];r.push(e.jsx(n,{className:"px-3 py-2 mx-1 rounded bg-red-500 text-white hover:bg-red-600 font-bold",onClick:()=>o(1),children:"|<"},"first"));for(let s=Math.max(1,a-3);s<a;s++)r.push(e.jsx(n,{className:"px-3 py-2 mx-1 rounded bg-red-500 text-white hover:bg-red-700",onClick:()=>o(s),children:s},s));r.push(e.jsx(n,{className:"px-3 py-2 mx-1 rounded bg-red-300 text-white font-bold",children:a},a));for(let s=a+1;s<=Math.min(i,a+3);s++)r.push(e.jsx(n,{className:"px-3 py-2 mx-1 rounded bg-red-500 text-white hover:bg-red-700",onClick:()=>o(s),children:s},s));return r.push(e.jsx(n,{className:"px-3 py-2 mx-1 rounded bg-red-500 text-white hover:bg-red-700 font-bold",onClick:()=>o(i),children:">|"},"last")),e.jsx("div",{className:"sticky bottom-0 w-full flex justify-center p-4 rounded-xl shadow-md",children:e.jsx("div",{className:"flex",children:r})},"pagination")},v=()=>{const[a,i]=d.useState([]),[o,r]=d.useState(!0),[s,p]=d.useState(1),[m,u]=d.useState(1);d.useEffect(()=>{r(!0),f.post("/trucs/gettrucks",{page:s}).then(t=>{t.data&&t.data.status&&Array.isArray(t.data.data)&&(i(t.data.data),typeof t.data.last_page=="number"&&u(t.data.last_page))}).catch(t=>{}).finally(()=>r(!1))},[s]);const h=t=>{p(t)};return o?e.jsx("div",{children:"Загрузка..."}):e.jsx("div",{children:e.jsxs("div",{className:"grid auto-rows-min gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[a.map(t=>e.jsx(c,{truck:t},t.id)),e.jsx("div",{className:"col-span-full flex justify-center mt-4",children:e.jsx(g,{currentPage:s,lastPage:m,setPage:h})})]})})},y=[{title:"Грузовики",href:"/trucks"}];function R(){return e.jsxs(j,{breadcrumbs:y,children:[e.jsx(b,{title:"Грузовики"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:e.jsx(v,{})})]})}export{R as default};
