import{j as e,r as o,a as f,L as b}from"./app-a8shZ7xm.js";import{P as x}from"./index-DK6kF-IZ.js";import{B as n}from"./button-DIhWO5lu.js";import{A as j}from"./app-layout-CF8xOiHp.js";import"./index-DN5Hf7i_.js";import"./index-99iC4-Ys.js";import"./shin-line-logo-DeoKgELm.js";const r=({label:a,value:i})=>e.jsxs("div",{style:{marginBottom:8},children:[e.jsxs("strong",{children:[a,":"]})," ",i||"—"]});r.propTypes={label:x.string.isRequired,value:x.any};const c=({truck:a})=>e.jsxs("div",{style:{border:"1px solid #e0e0e0",borderRadius:"10px",padding:"20px",margin:"16px 0",background:"#fafbfc",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",maxWidth:400},children:[e.jsx("h2",{style:{margin:"0 0 12px 0",color:"#2d3a4b"},children:a.truck_model_name||"Без модели"}),e.jsx(r,{label:"Гос. номер",value:a.plate_number}),e.jsx(r,{label:"Марка",value:a.truck_brand_name}),e.jsx(r,{label:"Категория",value:a.truck_categories_name}),e.jsx(r,{label:"Цвет",value:a.color}),e.jsx(r,{label:"VIN",value:a.vin}),e.jsx(r,{label:"Прицеп",value:a.trailer_model_name}),e.jsx(r,{label:"Тип прицепа",value:a.trailer_type_name}),e.jsxs("div",{style:{fontSize:12,color:"#888"},children:["Добавлен: ",new Date(a.created_at).toLocaleDateString()]})]});c.propTypes={truck:x.object.isRequired};const g=({currentPage:a,lastPage:i,setPage:d})=>{const l=[];l.push(e.jsx(n,{className:"px-3 py-2 mx-1 rounded bg-red-500 text-white hover:bg-red-600 font-bold",onClick:()=>d(1),children:"|<"},"first"));for(let s=Math.max(1,a-3);s<a;s++)l.push(e.jsx(n,{className:"px-3 py-2 mx-1 rounded bg-red-500 text-white hover:bg-red-700",onClick:()=>d(s),children:s},s));l.push(e.jsx(n,{className:"px-3 py-2 mx-1 rounded bg-red-300 text-white font-bold",children:a},a));for(let s=a+1;s<=Math.min(i,a+3);s++)l.push(e.jsx(n,{className:"px-3 py-2 mx-1 rounded bg-red-500 text-white hover:bg-red-700",onClick:()=>d(s),children:s},s));return l.push(e.jsx(n,{className:"px-3 py-2 mx-1 rounded bg-red-500 text-white hover:bg-red-700 font-bold",onClick:()=>d(i),children:">|"},"last")),e.jsx("div",{className:"sticky bottom-0 w-full flex justify-center p-4 rounded-xl shadow-md",children:e.jsx("div",{className:"flex",children:l})},"pagination")},v=()=>{const[a,i]=o.useState([]),[d,l]=o.useState(!0),[s,p]=o.useState(1),[m,u]=o.useState(1);o.useEffect(()=>{l(!0),f.post("/trucs/gettrucks",{page:s}).then(t=>{t.data&&t.data.status&&Array.isArray(t.data.data)&&(i(t.data.data),typeof t.data.last_page=="number"&&u(t.data.last_page))}).catch(t=>{}).finally(()=>l(!1))},[s]);const h=t=>{p(t)};return d?e.jsx("div",{children:"Загрузка..."}):e.jsx("div",{children:e.jsxs("div",{className:"grid auto-rows-min gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[a.map(t=>e.jsx(c,{truck:t},t.id)),e.jsx("div",{className:"col-span-full flex justify-center mt-4",children:e.jsx(g,{currentPage:s,lastPage:m,setPage:h})})]})})},y=[{title:"Грузовики",href:"/trucks"}];function C(){return e.jsxs(j,{breadcrumbs:y,children:[e.jsx(b,{title:"Грузовики"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:e.jsx(v,{})})]})}export{C as default};
